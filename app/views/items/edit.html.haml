- @page_title = '出品'

.exhibit-container
  = render partial: 'shared/header-exhibit'
  %main.main
    %section.main__container.buy-item-container
      #sell-container
        %div{"data-reactroot": ""}
          .sell-container__inner
            %h2.main__head
              %b 商品の情報を入力
            -# %form.sell-form
            -# = form_for @item, html, {class: sell-form} do |f|
            = form_with model: @item, method: :patch, local: true do |f|
              -# = form_with urls: '#', method: "patch" ,class: 'sell-form' do |f|
              .sell-upload-box
                %h3.sell-upload-box__head
                  %b 出品画像
                  %span.form-require 必須
                %p 最大10枚までアップロードできます
                .sell-dropbox-container.clearfix.edit_page
                  .sellitem_contener
                    .sellitem_contener_image
                      = image_tag "#{@item.image}", alt: "", class: "edit_image"
                    .sell-image-upload
                      = link_to "編集", "#", class: "sell-image-upload-btn"
                      = link_to "削除", "#", class: "sell-image-upload-btn"
                  -# - @item.images.each do |image|
                  -#   = render partial: 'shared/item_image',locals: {image: image}
                  -# .sell-upload-items-container
                  -#   .sell-upload-items__have-item
                  -#     %ul
                  %label.file_upload_box
                    %input.sell-upload-drop-file{style: "display: none;", type: "file"}/
                    .sell-upload-drop-box.have-item-0.edit_page
                      %pre.visible-pc
                        ドラッグアンドドロップ
                        %br>/
                        またはクリックしてファイルをアップロード
                      .icon-camera
                        %i.fa.fa-camera{"aria-hidden": "true"}
              .sell-content
                .form-group
                  %label
                    %b 商品名
                    %span.form-require 必須
                  %div
                    = f.text_field :name,class:'input-default',placeholder: "商品名（必須 40文字まで）", value: "#{@item.name}"
                    -# %input.input-default{placeholder: "商品名（必須 40文字まで）", value: "#{@item.name}"}/
                .form-group
                  %label
                    %b 商品の説明
                    %span.form-require 必須
                  = f.text_area :comment, maxlength: "1000", placeholder: "商品の説明（必須1,000文字以内）（色、素材、重さ、定価、注意点など）例）2010年頃に1万円で購入したジャケットです。ライトグレーで傷はありません。あわせやすいのでおすすめです。", row: "5", class: "textarea-default"
              .sell-content.clearfix
                %h3.sell-sub-head
                  %b 商品の詳細
                .sell-form-box
                  .form-group
                    %label
                      %b カテゴリー
                      %span.form-require 必須
                    %div
                      .select-wrap-exhibit
                        .icon-arrow-bottom
                          %i.fa.fa-angle-down{"aria-hidden": "true"}
                        = f.collection_select :category_id, Category.all, :id, :name,class: 'select-default', prompt: "--"
                        -# %select.select-default
                        -#   %option{value: ""} ---
                        -#   %option{value: "1"} レディース
                        -#   %option{value: "2"} メンズ
                        -#   %option{value: "3"} ベビー・キッズ
                        -#   %option{value: "4"} インテリア・住まい・小物
                        -#   %option{value: "5"} 本・音楽・ゲーム
                        -#   %option{value: "1328"} おもちゃ・ホビー・グッズ
                        -#   %option{value: "6"} コスメ・香水・美容
                        -#   %option{value: "7"} 家電・スマホ・カメラ
                        -#   %option{value: "8"} スポーツ・レジャー
                        -#   %option{value: "9"} ハンドメイド
                        -#   %option{value: "1027"} チケット
                        -#   %option{value: "1318"} 自動車・オートバイ
                        -#   %option{value: "10"} その他
                  .form-group
                    %label
                      %b 商品の状態
                      %span.form-require 必須
                    .select-wrap-exhibit
                      .icon-arrow-bottom
                        %i.fa.fa-angle-down{"aria-hidden": "true"}
                      = f.collection_select :state_id, State.all, :id, :name, prompt: "--",class: 'select-default'
                      -# %select.select-default
                      -#   %option{value: ""} ---
                      -#   %option{value: "1"} 新品、未使用
                      -#   %option{value: "2"} 未使用に近い
                      -#   %option{value: "3"} 目立った傷や汚れなし
                      -#   %option{value: "4"} やや傷や汚れあり
                      -#   %option{value: "5"} 傷や汚れあり
                      -#   %option{value: "6"} 全体的に状態が悪い
              .sell-content.clearfix
                %h3.sell-sub-head
                  %b 配送について
                %a.form-question{href: "#", target: "_blank"} ?
                .sell-form-box
                  .form-group
                    %label
                      %b 配送料の負担
                      %span.form-require 必須
                    .select-wrap-exhibit
                      .icon-arrow-bottom
                        %i.fa.fa-angle-down{"aria-hidden": "true"}
                      = f.collection_select :postage_burden_id, PostageBurden.all, :id, :name, prompt: "--",class: 'select-default'
                      -# %select.select-default
                      -#   %option{value: ""} ---
                      -#   %option{value: "2"} 送料込み（出品者負担）
                      -#   %option{value: "1"} 着払い（購入者負担）
                  .form-group
                    %label
                      %b 配送方法
                      %span.form-require 必須
                    .select-wrap-exhibit
                      .icon-arrow-bottom
                        %i.fa.fa-angle-down{"aria-hidden": "true"}
                      = f.collection_select :shipping_way_id, ShippingWay.all, :id, :name, prompt: "--",class: 'select-default'
                      -# %select.select-default
                      -#   %option{value: ""} ---
                      -#   %option{value: "1"} 未定
                      -#   %option{value: "2"} クロネコヤマト
                      -#   %option{value: "3"} ゆうパック
                      -#   %option{value: "4"} ゆうメール
                  .form-group
                    %label
                      %b 発送元の地域
                      %span.form-require 必須
                    .select-wrap-exhibit
                      = f.collection_select :prefecture_id, Prefecture.all, :id, :name, prompt:"--", class: '.select-default'
                      -# = form_for '' do |f|
                      -#   = f.collection_select :prefecture_id, Prefecture.all, :id, :name, prompt: "---", class: '.select-default'
                      .icon-arrow-bottom
                        %i.fa.fa-angle-down{"aria-hidden": "true"}
                  .form-group
                    %label
                      %b 発送までの日数
                      %span.form-require 必須
                    .select-wrap-exhibit
                      .icon-arrow-bottom
                        %i.fa.fa-angle-down{"aria-hidden": "true"}
                      = f.collection_select :shipping_date_id, ShippingDate.all, :id, :name, prompt: "--", class: '.select-default'
                      -# %select.select-default
                      -#   %option{value: ""} ---
                      -#   %option{value: "1"} 1〜2日で発送
                      -#   %option{value: "2"} 2〜3日で発送
                      -#   %option{value: "2"} 4〜7日で発送
              .sell-content.clearfix
                %h3.sell-sub-head
                  %b 販売価格(300〜9,999,999)
                %a.form-question{href: "#", target: "_blank"} ?
                .sell-form-box
                  %ul.sell-price
                    %li.form-group
                      .clearfix
                        %label.clearfix__left
                          %b 価格
                          %span.form-require 必須
                        .clearfix__right.sell-price-input
                          ¥
                          %div
                            = f.text_field :price,class: 'input-price',placeholder: "例）300", value: "#{@item.price}"
                            -# %input.input-price{placeholder: "例）300", value: "#{@item.price}"}
                    %li.clearfix
                      .clearfix__left
                        販売手数料(10%)
                        .clearfix__right 
                          - fee=@item.price*0.1
                          #{fee.floor}
                    %li.clearfix.bold
                      .clearfix__left
                        %b 販売利益
                        .clearfix__right
                          %b
                            - profit=@item.price - fee.floor
                            ¥#{profit.to_s(:delimited)}
              .model{role: "dialog", tabindex: "-1"}
                .model-inner
              .sell-content.sell-btn-box
                = f.submit '変更する', class: 'btn-default btn-red'
                -# %input.btn-default.btn-red{type: "submit",value: "変更する"}
                .btn-default.btn-gray
                  = link_to "キャンセル", "/exhibit/1", class: ""
            .overlay
  = render partial: 'shared/footer-exhibit'